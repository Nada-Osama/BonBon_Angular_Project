<div class="container-fluid">
  <div class="row flex-nowrap">
    <div
      class="col-auto col-md-6 col-xl-4 px-sm-2 px-0"
      style="background-color: #e6b0aa"
    >
      <div
        class="d-flex flex-column align-items-center align-items-sm-start px-3 pt-2 text-white min-vh-100"
      >
        <img
          alt=""
          src="{{ User.profileImage }}"
          class="w-50 h-50 rounded-circle mt-5 m-auto"
        />
        <ul
          class="nav nav-pills flex-column mb-sm-auto mb-0 align-items-center align-items-sm-start"
          id="menu"
        >
          <li style="margin-top: -40%; margin-left: 40%">
            <h2>{{ User.userName }}</h2>
          </li>
          <hr />
          <li style="margin-top: 10%" class="">
            <h5>
              <i class="fa fa-envelope-o" style="margin-right: 10px"></i
              >{{ User.email }}
            </h5>
          </li>
          <li style="margin-top: 10%">
            <h5>
              <i
                class="fa fa-transgender font-weight-bold"
                style="margin-right: 10px"
              ></i
              >{{ Gender }}
            </h5>
          </li>
          <hr />

          <li style="margin-top: 10%; margin-left: 60%">
            <a class="btn btn-secondary btn-sm" (click)="open(content)">
              <i class="fa fa-pencil-square-o"></i> Edit Profile
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="col py-5 m-5">
      <h3 style="color: rgb(226, 103, 103)" class="text-center">Your Orders</h3>
      <br />

      <div class="container" *ngFor="let order of Orders">
        <div class="container mt-2 px-2">
          <div class="mb-2 d-flex justify-content-between align-items-center">
            <div class="col-12 mt-4">
              <div class="bg-light mb-3">
                <div class="card-body">
                  <div class="d-flex justify-content-between hds">
                    <h5 class="mb-0">
                      Order number:<span>{{ order.id }}</span>
                    </h5>

                    <h5 class="mb-0 ms-0">
                      Status:
                      <span [ngSwitch]="order.state">
                        <div
                          class="text-warning state d-inline"
                          *ngSwitchCase="0"
                        >
                          Pending
                        </div>
                        <div
                          class="text-success state d-inline"
                          *ngSwitchCase="1"
                        >
                          Accepted
                        </div>
                        <div
                          class="text-danger state d-inline"
                          *ngSwitchCase="2"
                        >
                          Canceled
                        </div>
                      </span>
                    </h5>
                    <h5 class="mb-0 ms-0">
                      Date:<span>{{ order.orderDate | date: "longDate" }}</span>
                    </h5>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="table-responsive">
            <table class="table table-responsive table-borderless">
              <thead>
                <tr class="bg-light">
                  <th scope="col" width="30%">Name</th>
                  <th scope="col" width="30%">Product</th>
                  <th scope="col" width="20%">Amount</th>
                  <th scope="col" width="20%">Price</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let p of order.orderProducts; let i = index">
                  <td class="tt" scope="col" width="30%">
                    {{ p.product.title }}
                  </td>
                  <td scope="col" width="30%">
                    <img
                      class="rounded"
                      src="{{ p.product.imageUrl }}"
                      width="100"
                    />
                  </td>
                  <th class="tt" scope="col" width="20%">{{ p.amount }}</th>
                  <th class="tt" scope="col" width="20%">
                    {{ p.price | currency: "USD" }}
                  </th>
                </tr>
              </tbody>
            </table>
          </div>
          <hr>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #content let-modal>
  <div class="modal-headers">
    <h4 class="modal-title my-4" id="modal-basic-title" style="color: #7f4722">
      <span class="mx-3">Edit Profile </span>
      <i
        class="fa fa-times text-danger float-end mx-3"
        aria-hidden="true"
        (click)="modal.dismiss('Cross click')"
      ></i>
    </h4>
    <!-- <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')"> -->
    <!-- <span aria-hidden="true">&times;</span>
          </button> -->
  </div>
  <hr style="width: 100%; margin-left: 0%; margin-top: 0%" />

  <div class="modal-body">
    <form id="Registeration">
      <div class="form-group" class="mb-2">
        <div class="form-input">
          <i class="fa fa-user"></i>
          <input
            type="text"
            name="Username"
            [value]="User.userName"
            #username
            id="user"
            placeholder="Username"
            class="form-control"
          />
        </div>
      </div>
      <div class="form-group mb-2">
        <div class="form-input">
          <span class="input-group-addon"><i class="fa fa-envelope"></i></span>
          <input
            class="form-control"
            type="email"
            name="email"
            #email
            id="Email"
            placeholder="Email"
            [value]="User.email"
          />
        </div>
      </div>
      <div class="form-group mb-2">
        <div class="form-input">
          <span class="input-group-addon"><i class="fa fa-picture-o"></i></span>
          <input
            class="form-control"
            type="text"
            name="image"
            #image
            id="image"
            placeholder="Profile Image URL"
            [value]="User.profileImage"
          />
        </div>
      </div>
      <!-- <div class="form-group mb-2">
              <div class="input-group">
                  <span class="input-group-addon"><i class="fa fa-lock"></i></span>
                  <input class="form-control rounded-pill" type="text" name="password" #password id="password" placeholder="Password"/>
              </div>
          </div> -->
    </form>
  </div>
  <div class="modal-footer">
    <button
      type="button"
      class="btn btn-secondary text-light btn-outline-dark"
      (click)="SaveData(username.value, email.value, image.value)"
    >
      Save
    </button>
  </div>
</ng-template>
